{{!< layouts/layout}}

<link rel="stylesheet" href="/css/recipe.css"> 
<h1>Recipes</h1>

<form action="/recipes" method="POST">
    <label for="recipeName">Recipe Name:</label><br>
    <input type="text" id="recipeName" name="recipeName"><br>
    
    <label for="ingredients">Ingredients:</label><br>
    <textarea id="ingredients" name="ingredients" rows="4" cols="50" required></textarea><br>
    
    <label for="directions">Directions:</label><br>
    <textarea id="directions" name="directions" rows="4" cols="50" required></textarea><br>
    
    <button type="submit">Submit</button>
</form>


{{#each recipes}}
  <div class="recipe">
    <h2>{{recipeName}}</h2>
    <p><strong>Ingredients:</strong> {{ingredients}}</p>
    <p><strong>Directions:</strong> {{directions}}</p>
    <a href="/recipes/{{id}}/edit">Edit</a> <!-- Link to edit recipe -->
    <form action="/recipes/{{id}}?_method=DELETE" method="post"> <!-- Form to delete recipe -->
      <button type="submit">Delete</button>
    </form>
  </div>
{{/each}}

<script>
function validateForm() {
    var recipeName = document.getElementById("recipeName").value;
    var ingredients = document.getElementById("ingredients").value;
    var directions = document.getElementById("directions").value;

    console.log("Recipe Name:", recipeName);
    console.log("Ingredients:", ingredients);
    console.log("Directions:", directions);

    if (recipeName === "" || ingredients === "" || directions === "") {
        alert("Please fill out all fields.");
        return false; // Prevent form submission
    }

    return true;
}
</script>


